---
_grafana_agent_github_org: grafana
_grafana_agent_github_repo: agent
_grafana_agent_base_download_url: "https://github.com/{{ _grafana_agent_github_org }}/{{ _grafana_agent_github_repo }}/releases/download"

# set the go cpu arch
_download_cpu_arch_map:
  i386: '386'
  x86_64: amd64
  aarch64: arm64
  armv7l: armv7
  armv6l: armv6

_grafana_agent_cpu_arch: "{{ _download_cpu_arch_map[ansible_architecture] | default(ansible_architecture) }}"

# set the go os family
_download_os_family_map:
  alpine: linux
  debian: linux
  redhat: linux
  darwin: darwin
  freebsd: freebsd

_grafana_agent_os_family: "{{ _download_os_family_map[ansible_os_family | lower] | default(ansible_os_family | lower) }}"

# set the name of the archive file to download
_grafana_agent_download_archive_file: "grafana-agent-{{ _grafana_agent_os_family }}-{{ _grafana_agent_cpu_arch }}.zip"

# set the name of the binary file
_grafana_agent_download_binary_file: "grafana-agent-{{ _grafana_agent_os_family }}-{{ _grafana_agent_cpu_arch }}"

# systemd info
_grafana_agent_systemd_dir: /usr/lib/systemd/system/
_grafana_agent_systemd_unit: grafana-agent.service
